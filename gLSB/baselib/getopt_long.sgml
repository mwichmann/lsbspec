<REFENTRY ID="baselib-getopt-long-3"> <REFMETA>
<REFENTRYTITLE>getopt_long</REFENTRYTITLE>
<REFMISCINFO>Base Libraries</REFMISCINFO>
</REFMETA>
<REFNAMEDIV>
<REFNAME>getopt_long</REFNAME>
<REFPURPOSE>
parse command line options
</REFPURPOSE>
</REFNAMEDIV>
<REFSYNOPSISDIV>
<REFSYNOPSISDIVINFO>
<DATE>2 April 2001</DATE>
</REFSYNOPSISDIVINFO>
<FUNCSYNOPSIS>
<FUNCSYNOPSISINFO>
#define _GNU_SOURCE
#include &lt;getopt.h&gt;
</FUNCSYNOPSISINFO>
<FUNCPROTOTYPE>
 <FUNCDEF>int 
  <FUNCTION>getopt_long</FUNCTION></FUNCDEF>
 <PARAMDEF>int 
  <PARAMETER><REPLACEABLE>argc</REPLACEABLE></PARAMETER></PARAMDEF>
 <PARAMDEF>char * const 
  <PARAMETER><REPLACEABLE>argv</REPLACEABLE>[]</PARAMETER></PARAMDEF>
 <PARAMDEF>const char 
  <PARAMETER><REPLACEABLE>*opstring</REPLACEABLE></PARAMETER></PARAMDEF>
 <PARAMDEF>const struct <FUNCTION><STRUCTNAME>option</STRUCTNAME> 
  *longopts</FUNCTION></PARAMDEF>
 <PARAMDEF>int 
  <PARAMETER><REPLACEABLE>*longindex</REPLACEABLE></PARAMETER></PARAMDEF>
</FUNCPROTOTYPE>
</FUNCSYNOPSIS>
</REFSYNOPSISDIV>
<REFSECT1>
<REFSECT1INFO>
<DATE>2 April 2001</DATE>
</REFSECT1INFO>
<TITLE>Description
</TITLE>
<PARA>
<FUNCTION>getopt_long</FUNCTION> works like <FUNCTION>getopt</FUNCTION> 
except that it also accepts long options, started out by two dashes. 
Long option names may be abbreviated if the abbreviation is unique or 
is an exact match for some defined option. A long option may take a 
parameter, of the form <LITERAL>--arg=param</LITERAL> or 
<LITERAL>--arg param</LITERAL>.
</PARA>
<PARA>
<PARAMETER>longopts</PARAMETER> is a pointer to the first element of an 
array of struct <STRUCTNAME>option</STRUCTNAME> declared in 
<FILENAME>getopt.h</FILENAME> as:
<SYNOPSIS>
  struct option {
             const char *name;
             int *flag;
             int has_arg;
             int val;
  };
</SYNOPSIS>
</PARA>
</REFSECT1>
<REFSECT1>
<TITLE>Return Value
</TITLE>
<PARA>
<FUNCTION>getopt_long</FUNCTION> returns the option character if the 
option was found successfully, or "<RETURNVALUE>:</RETURNVALUE>" if 
there was a missing parameter for one of the options, or 
"<RETURNVALUE>?</RETURNVALUE>" for an unknown option character, or 
<RETURNVALUE>-1</RETURNVALUE> for the end of the option list.
</PARA>
<PARA>
<FUNCTION>getopt_long</FUNCTION> also returns the option character 
when a short option is recognized. For a long option, they return val 
if flag is <LITERAL>NULL</LITERAL>, and <RETURNVALUE>0</RETURNVALUE> 
otherwise. Error and <RETURNVALUE>-1</RETURNVALUE> returns are the 
same as for <FUNCTION>getopt</FUNCTION>, plus 
"<RETURNVALUE>?</RETURNVALUE>" for an ambiguous match or an 
extraneous parameter.
</PARA>

<!--	  LDP GENERAL PUBLIC LICENSE  -->
<!--        Version 1a, November 1998   -->

</REFSECT1>
</REFENTRY>

