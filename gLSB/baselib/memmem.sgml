<REFENTRY ID="baselib-memmem-3"> <REFMETA>
<REFENTRYTITLE>memmem</REFENTRYTITLE>
<REFMISCINFO>Base Libraries</REFMISCINFO>
</REFMETA>
<REFNAMEDIV>
<REFNAME>memmem</REFNAME>
<REFPURPOSE>
locate a substring
</REFPURPOSE>
</REFNAMEDIV>
<REFSYNOPSISDIV>
<REFSYNOPSISDIVINFO>
<DATE>2 April 2001</DATE>
</REFSYNOPSISDIVINFO>
<FUNCSYNOPSIS>
<FUNCSYNOPSISINFO>
#define _GNU_SOURCE
#include &lt;string.h&gt;
</FUNCSYNOPSISINFO>
<FUNCPROTOTYPE>
 <FUNCDEF>void 
  <FUNCTION>*memmem</FUNCTION></FUNCDEF>
 <PARAMDEF>const void 
  <PARAMETER><REPLACEABLE>*haystack</REPLACEABLE></PARAMETER></PARAMDEF>
 <PARAMDEF>size_t 
  <PARAMETER><REPLACEABLE>haystacklen</REPLACEABLE></PARAMETER></PARAMDEF>
 <PARAMDEF>const void 
  <PARAMETER><REPLACEABLE>*needle</REPLACEABLE></PARAMETER></PARAMDEF>
 <PARAMDEF>size_t 
  <PARAMETER><REPLACEABLE>needlelen</REPLACEABLE></PARAMETER></PARAMDEF>
</FUNCPROTOTYPE>
</FUNCSYNOPSIS>
</REFSYNOPSISDIV>
<REFSECT1>
<REFSECT1INFO>
<DATE>2 April 2001</DATE>
</REFSECT1INFO>
<TITLE>Description
</TITLE>
<PARA>
<FUNCTION>memmem</FUNCTION> finds the start of the first 
occurrence of the substring <PARAMETER>needle</PARAMETER> 
of length <PARAMETER>needlelen</PARAMETER> in the memory 
area <PARAMETER>haystack</PARAMETER> of length 
<PARAMETER>haystacklen</PARAMETER>.
</PARA>
</REFSECT1>
<REFSECT1>
<TITLE>Return Value
</TITLE>
<PARA>
<FUNCTION>memmem</FUNCTION> returns a pointer to the beginning 
of the substring, or <LITERAL>NULL</LITERAL> if the substring 
is not found.
</PARA>
</REFSECT1>
<REFSECT1>
<TITLE>Notes
</TITLE>
<PARA>
<FUNCTION>memmem</FUNCTION> was broken in Linux libraries up to and 
including libc 5.0.9; there the <PARAMETER>needle</PARAMETER> and 
<PARAMETER>haystack</PARAMETER> arguments were interchanged, and a 
pointer to the end of the first occurrence of <PARAMETER>needle</PARAMETER> 
was returned. Since libc 5.0.9 is still widely used, this is a dangerous 
function to use.
</PARA>
<PARA>
Both old and new libc's have the bug that if <PARAMETER>needle</PARAMETER> 
is empty, <PARAMETER>haystack</PARAMETER><EMPHASIS>-1</EMPHASIS> is returned 
(instead of <PARAMETER>haystack</PARAMETER>). And glibc 2.0 makes it worse, 
returning a pointer to the last byte of <PARAMETER>haystack</PARAMETER>. 
This is fixed in glibc 2.1.
</PARA>

<!--	  LDP GENERAL PUBLIC LICENSE  -->
<!--        Version 1a, November 1998   -->

</REFSECT1>
</REFENTRY>

