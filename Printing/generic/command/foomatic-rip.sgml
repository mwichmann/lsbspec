<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
                   "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">
<!-- lifted from troff+man by doclifter -->
<refentry id='foomaticrip1'>
<!--  This \-*\- nroff \-*\- source file is part of foomatic. -->

<!-- .hy 0 -->
<refentryinfo><date>2002-11-26</date></refentryinfo>
<refmeta>
<refentrytitle>FOOMATIC-RIP</refentrytitle>
<manvolnum>1</manvolnum>
<refmiscinfo class='date'>2002-11-26</refmiscinfo>
<refmiscinfo class='source'>Foomatic Project</refmiscinfo>
</refmeta>
<refnamediv id='name'>
<refname>foomatic-rip</refname>
<refpurpose>Universal print filter/RIP wrapper</refpurpose>
</refnamediv>
<refsynopsisdiv id='synopsis'>
<synopsis>
</synopsis>
</refsynopsisdiv>

<!-- body begins here -->

<refsect1 id='frgeneral_options'><title>General Options:</title>
<para><emphasis remap='B'>foomatic-rip</emphasis>&nbsp;<emphasis remap='B'>[-v]&nbsp;[-q]&nbsp;[-d]</emphasis><emphasis remap='I'>&nbsp;&lt;filter&nbsp;specific&nbsp;options&gt;</emphasis></para>


<refsect2 id='frspoolerless_printingcps'><title>Spooler-less printing/CPS (older versions) filter:</title>
<para><emphasis remap='B'>foomatic-rip</emphasis>&nbsp;<emphasis remap='B'>[-P</emphasis><emphasis remap='I'>&nbsp;&lt;printer&gt;</emphasis><emphasis remap='B'>&nbsp;</emphasis>
| &nbsp;<option>--ppd</option> &nbsp;<emphasis remap='I'>&lt;ppdfile&gt;</emphasis> <emphasis remap='B'>]</emphasis> &nbsp;[<option>-J</option>&nbsp;<emphasis remap='I'>&lt;jobtitle&gt;</emphasis> ]
[<option>-o</option> &nbsp;<emphasis remap='I'>&lt;option&gt;</emphasis><emphasis remap='B'>=</emphasis><emphasis remap='I'>&lt;value&gt;</emphasis> &nbsp;[...]] &nbsp;<emphasis remap='B'>[</emphasis><emphasis remap='I'>&lt;files&gt;</emphasis><emphasis remap='B'>]</emphasis></para>

</refsect2>

<refsect2 id='frcups_filter'><title>CUPS filter:</title>
<para><emphasis remap='B'>foomatic-rip</emphasis>&nbsp;<emphasis remap='I'>&lt;jobid&gt;</emphasis><emphasis remap='I'>&nbsp;&lt;user&gt;</emphasis><emphasis remap='B'>&nbsp;</emphasis><emphasis remap='I'>&lt;jobtitle&gt;</emphasis><emphasis remap='I'>&nbsp;&lt;numcopies&gt;</emphasis><emphasis remap='B'>&nbsp;</emphasis><emphasis remap='I'>&lt;options&gt;</emphasis><emphasis remap='I'>&nbsp;</emphasis><emphasis remap='B'>[</emphasis><emphasis remap='I'>&lt;file&gt;</emphasis><emphasis remap='B'>]</emphasis></para>

</refsect2>

<refsect2 id='frlprng_filter'><title>LPRng filter:</title>
<para><emphasis remap='B'>foomatic-rip</emphasis>&nbsp;--lprng&nbsp;<emphasis remap='I'></emphasis><emphasis remap='B'>[-J</emphasis><emphasis remap='I'>&lt;jobtitle&gt;</emphasis><emphasis remap='B'>]</emphasis><emphasis remap='B'>[-Z</emphasis><emphasis remap='I'>&lt;option&gt;</emphasis><emphasis remap='B'>=</emphasis><emphasis remap='I'>&lt;value&gt;</emphasis><emphasis remap='B'>[,</emphasis><emphasis remap='I'>&lt;option&gt;</emphasis><emphasis remap='B'>=</emphasis><emphasis remap='I'>&lt;value&gt;</emphasis><emphasis remap='B'>[,</emphasis><emphasis remap='I'>&nbsp;</emphasis><emphasis remap='B'>...]]</emphasis><emphasis remap='B'>&nbsp;</emphasis><emphasis remap='I'>&lt;ppdfile&gt;</emphasis></para>
<!-- .br -->

<para><emphasis remap='B'>foomatic-rip</emphasis>&nbsp;&nbsp;<emphasis remap='B'>[-J</emphasis><emphasis remap='I'>&lt;jobtitle&gt;</emphasis><emphasis remap='B'>]</emphasis><emphasis remap='I'></emphasis><emphasis remap='B'>[-Z</emphasis><emphasis remap='I'>&lt;option&gt;</emphasis><emphasis remap='B'>=</emphasis><emphasis remap='I'>&lt;value&gt;</emphasis><emphasis remap='B'>[,</emphasis><emphasis remap='I'>&lt;option&gt;</emphasis><emphasis remap='B'>=</emphasis><emphasis remap='I'>&lt;value&gt;</emphasis><emphasis remap='B'>[,&nbsp;...]]</emphasis>
<!-- .br -->
(printcap :pdd=&lt;ppdfile&gt;)</para>

<para><emphasis remap='B'>foomatic-rip</emphasis>&nbsp;<option>--ppd</option><replaceable>&nbsp;&lt;ppdfile&gt;</replaceable><emphasis remap='B'>[-J</emphasis><emphasis remap='I'>&lt;jobtitle&gt;</emphasis><emphasis remap='B'>]</emphasis><emphasis remap='I'>&nbsp;</emphasis><emphasis remap='B'>[-Z</emphasis><emphasis remap='I'>&lt;option&gt;</emphasis><emphasis remap='B'>=</emphasis><emphasis remap='I'>&lt;value&gt;</emphasis><emphasis remap='B'>[,</emphasis><emphasis remap='I'>&lt;option&gt;</emphasis><emphasis remap='B'>=</emphasis><emphasis remap='I'>&lt;value&gt;</emphasis><emphasis remap='B'>[,&nbsp;...]]</emphasis></para>

</refsect2>

<refsect2 id='frlpdgnulpr_filter'><title>LPD/GNUlpr filter:</title>
<para><emphasis remap='B'>foomatic-rip</emphasis>&nbsp;<emphasis remap='B'>[-w</emphasis>&nbsp;<emphasis remap='I'>&lt;number&gt;</emphasis><emphasis remap='B'>]</emphasis>&nbsp;<emphasis remap='B'>[-l</emphasis>&nbsp;<emphasis remap='I'>&lt;number&gt;</emphasis><emphasis remap='B'>]</emphasis>&nbsp;<emphasis remap='B'>[-x</emphasis>&nbsp;<emphasis remap='I'>&lt;number&gt;</emphasis><emphasis remap='B'>]</emphasis>&nbsp;<emphasis remap='B'>[-y</emphasis>&nbsp;<emphasis remap='I'>&lt;number&gt;</emphasis><emphasis remap='B'>]</emphasis>&nbsp;<emphasis remap='B'>[-i</emphasis>&nbsp;<emphasis remap='I'>&lt;number&gt;</emphasis><emphasis remap='B'>]</emphasis>&nbsp;<emphasis remap='B'>[-c]</emphasis>&nbsp;<emphasis remap='B'>[-n</emphasis>&nbsp;<emphasis remap='I'>&lt;string&gt;</emphasis><emphasis remap='B'>]</emphasis>&nbsp;<emphasis remap='B'>[-h</emphasis>&nbsp;<emphasis remap='I'>&lt;string&gt;</emphasis><emphasis remap='B'>]</emphasis>&nbsp;<emphasis remap='B'>[-j|-J</emphasis>&nbsp;<emphasis remap='I'>&lt;jobtitle&gt;</emphasis><emphasis remap='B'>|</emphasis><emphasis remap='I'>&lt;options&gt;</emphasis><emphasis remap='B'>]</emphasis>&nbsp;<emphasis remap='I'>&lt;ppdfile&gt;</emphasis></para>

</refsect2>

<refsect2 id='frppr_rip'><title>PPR RIP:</title>
<para><emphasis remap='B'>foomatic-rip</emphasis>&nbsp;<emphasis remap='B'>[</emphasis><emphasis remap='I'>&lt;option&gt;</emphasis><emphasis remap='B'>=</emphasis><emphasis remap='I'>&lt;value&gt;</emphasis><emphasis remap='I'>&nbsp;[...]]</emphasis></para>

</refsect2>

<refsect2 id='frppr_interface'><title>PPR interface:</title>
<para><emphasis remap='B'>foomatic-rip</emphasis>&nbsp;<emphasis remap='I'>&lt;queue&gt;</emphasis><emphasis remap='I'>&nbsp;&lt;destaddress&gt;</emphasis><emphasis remap='B'>&nbsp;</emphasis><emphasis remap='I'>&lt;options&gt;</emphasis><emphasis remap='I'>&nbsp;&lt;jobbreak&gt;</emphasis><emphasis remap='B'>&nbsp;</emphasis><emphasis remap='I'>&lt;feedback&gt;</emphasis><emphasis remap='I'>&nbsp;&lt;codes&gt;</emphasis><emphasis remap='B'>&nbsp;</emphasis><emphasis remap='I'>&lt;jobname&gt;</emphasis><emphasis remap='I'>&nbsp;&lt;routing&gt;</emphasis><emphasis remap='B'>&nbsp;</emphasis><emphasis remap='I'>&lt;for&gt;</emphasis><emphasis remap='I'>&nbsp;&lt;filetype&gt;</emphasis><emphasis remap='B'>&nbsp;[</emphasis><emphasis remap='I'>&lt;file&gt;</emphasis><emphasis remap='B'>]</emphasis></para>

</refsect2>

<refsect2 id='frpdq_driver_file_generation'><title>PDQ driver file generation:</title>
<para><emphasis remap='B'>foomatic-rip&nbsp;[--ppd</emphasis><emphasis remap='I'>&nbsp;&lt;ppdfile&gt;</emphasis><emphasis remap='B'>]</emphasis><emphasis remap='B'>&nbsp;[-o</emphasis><emphasis remap='I'>&nbsp;&lt;option&gt;</emphasis><emphasis remap='B'>=</emphasis><emphasis remap='I'>&lt;value&gt;</emphasis><emphasis remap='B'>&nbsp;[...]]</emphasis><emphasis remap='I'>&nbsp;</emphasis><option>--genpdq|--appendpdq|--genrawpdq|--appendrawpdq</option></para>

</refsect2>

<refsect2 id='frpdq_filter'><title>PDQ filter:</title>
<para><emphasis remap='B'>foomatic-rip&nbsp;--pdq</emphasis>&nbsp;<option>--ppd</option><replaceable>&nbsp;&lt;ppdfile&gt;</replaceable><emphasis remap='B'>]</emphasis><emphasis remap='I'>&nbsp;[</emphasis><option>-o</option><replaceable>&nbsp;</replaceable><emphasis remap='I'>&lt;option&gt;</emphasis><emphasis remap='B'>=</emphasis><emphasis remap='I'>&lt;value&gt;</emphasis><emphasis remap='I'>&nbsp;[...]]</emphasis><emphasis remap='B'>&nbsp;</emphasis><emphasis remap='I'>&lt;file&gt;</emphasis></para>

</refsect2>

<refsect2 id='frcps'><title>CPS (newer versions) filter:</title>
<para><emphasis remap='B'>foomatic-rip</emphasis>&nbsp;<option>--cps</option>&nbsp;<option>-P</option><replaceable>&nbsp;&lt;printer&gt;</replaceable><emphasis remap='B'>&nbsp;[-J</emphasis>&nbsp;<emphasis remap='I'>&lt;jobtitle&gt;</emphasis><emphasis remap='I'>]</emphasis><emphasis remap='B'>&nbsp;[-o</emphasis><emphasis remap='I'>&nbsp;&lt;option&gt;</emphasis><emphasis remap='B'>=</emphasis><emphasis remap='I'>&lt;value&gt;</emphasis><emphasis remap='B'>&nbsp;[...]]</emphasis><emphasis remap='I'>&nbsp;</emphasis><emphasis remap='B'>[</emphasis><emphasis remap='I'>&lt;files&gt;</emphasis><emphasis remap='B'>]</emphasis></para>

</refsect2>
</refsect1>

<refsect1 id='description'><title>DESCRIPTION</title>
<para>foomatic-rip is a universal print filter which works with every known free
software printer spooler. It has the following features:</para>

<variablelist remap='IP'>
  <varlistentry>
  <term>&mdash;</term>
  <listitem>
<para>It translates PostScript (and also other file formats) from standard
input to the printer's native language (usually put to standard
output).</para>
  </listitem>
  </varlistentry>
</variablelist>


<variablelist remap='IP'>
  <varlistentry>
  <term>&mdash;</term>
  <listitem>
<para>The translation is done with an external renderer, usually GhostScript
(<emphasis remap='B'>gs(1)</emphasis>). If no translation is needed (PostScript printer) the
renderer's command line reduces to <emphasis remap='B'>cat(1)</emphasis>. The way how this
translation is done is described in a <emphasis remap='B'>PPD file</emphasis>.</para>
  </listitem>
  </varlistentry>
</variablelist>


<variablelist remap='IP'>
  <varlistentry>
  <term>&mdash;</term>
  <listitem>
<para>Printer capabilities, how to handle user options, and how to build the
renderer command line is always described by <emphasis remap='B'>PPD files</emphasis>, these
PPD files can come from <emphasis remap='B'>Foomatic</emphasis> or can be the ones supplied by
the manufacturers of PostScript printers. The PPD files are the same
for all spoolers.</para>
  </listitem>
  </varlistentry>
</variablelist>


<variablelist remap='IP'>
  <varlistentry>
  <term>&mdash;</term>
  <listitem>
<para>foomatic-rip works with every known spooler (<emphasis remap='B'>CUPS</emphasis>, <emphasis remap='B'>LPRng</emphasis>,
<emphasis remap='B'>LPD</emphasis>, <emphasis remap='B'>GNUlpr</emphasis>, <emphasis remap='B'>PPR</emphasis>, <emphasis remap='B'>PDQ</emphasis>, <emphasis remap='B'>CPS</emphasis>, and
<emphasis remap='B'>without spooler</emphasis>). It auto-detects the spooler from which it was
called by the command line options and environment variables which
were supplied by the spooler.</para>
  </listitem>
  </varlistentry>
</variablelist>


<variablelist remap='IP'>
  <varlistentry>
  <term>&mdash;</term>
  <listitem>
<para>Non-PostScript files are translated to PostScript before they are
passed to the renderer. This is usually done by <emphasis remap='B'>a2ps(1)</emphasis>,
<emphasis remap='B'>enscript(1)</emphasis>, or <emphasis remap='B'>mpage(1)</emphasis>. foomatic-rip auto-detects which
program is installed, but manual configuration is also possible.</para>
  </listitem>
  </varlistentry>
</variablelist>


<variablelist remap='IP'>
  <varlistentry>
  <term>&mdash;</term>
  <listitem>
<para>foomatic-rip does not only apply option settings supplied by the user
through the command line of the printing command, but also searches
the entire job for embedded option settings (only PostScript
jobs). Here not only settings affectimg the whole job are taken into
account, but also settings in the page headers, which are only valid
for the page where they were found, so applications which produce
PostScript code with page-specific printer option settings are fully
supported.</para>
  </listitem>
  </varlistentry>
</variablelist>


</refsect1>

<refsect1 id='spoolerless_printing'><title>SPOOLER-LESS PRINTING</title>

<refsect2 id='options'><title>Options</title>

<variablelist remap='TP'>
  <varlistentry>
  <term><option>-v</option></term>
  <listitem>
<para>verbose mode for debugging.
<emphasis remap='B'>WARNING:</emphasis>
This will create a file in /tmp that contains the debugging information.
This opens a security loophole and should not be used in production.</para>

  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-q</option></term>
  <listitem>
<para>quiet mode - minimal information output</para>

  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-d</option></term>
  <listitem>
<para>identical to the 'opts' option, but option information is
left in text format.  This is useful for running foomatic-rip
from the command line to determine what the printer option are.
The PPD file will need to be specified using the --ppd option.</para>

  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-P</option><replaceable>&nbsp;&lt;printer&gt;</replaceable></term>
  <listitem>
<para><emphasis remap='I'>&lt;printer&gt;</emphasis> is the configured printer which should be used for this job.</para>

  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--ppd</option><replaceable>&nbsp;&lt;ppdfile&gt;</replaceable></term>
  <listitem>
<para>The PPD file <filename>&lt;ppdfile&gt;</filename> should be applied for processing this job.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-J</option><replaceable>&nbsp;&lt;jobtitle&gt;</replaceable></term>
  <listitem>
<para>The <emphasis remap='I'>&lt;jobtitle&gt;</emphasis> will be printed in the head line of every page of
a plain text job.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-o</option><replaceable>&nbsp;&lt;option&gt;</replaceable><emphasis remap='B'>=</emphasis><emphasis remap='I'>&lt;value&gt;</emphasis></term>
  <listitem>
<para>Option settings for this job, do</para> 

<para><emphasis remap='B'>foomatic-rip -P </emphasis><emphasis remap='I'>&lt;printer&gt;</emphasis> <option>-o docs </option><emphasis remap='I'>&lt;file&gt;</emphasis></para>

<para>(<emphasis remap='I'>&lt;file&gt;</emphasis> can be an arbitrary existing file, as <markup>.bashrc</markup>,
will not be printed) to print a list of available options for the
specified <emphasis remap='I'>&lt;printer&gt;</emphasis>.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='B'></emphasis><emphasis remap='I'>&lt;files&gt;</emphasis></term>
  <listitem>
<para>The file(s) to be printed.</para>

  </listitem>
  </varlistentry>
</variablelist>

<para><emphasis remap='B'>foomatic-rip</emphasis> will print from standard input unless a file to
print is specified on the command line.
If your printer PPD file is stored as <filename>/etc/direct/&lt;printer&gt;.ppd</filename>
or <filename>~/.foomatic/direct/&lt;printer&gt;.ppd</filename> you can use it by simply specifying "-P <emphasis remap='I'>&lt;printer&gt;</emphasis>".</para>

<para>Put a line</para>

<para><emphasis remap='B'>*FoomaticRIPPostPipe: "| </emphasis><emphasis remap='I'>&lt;command&gt;</emphasis><emphasis remap='B'>"</emphasis></para>
<!-- .hy 0 -->

<para>into the PPD file, right after <emphasis remap='B'>*PPD-Adobe: "4.3"</emphasis>, where
<emphasis remap='I'>&lt;command&gt;</emphasis> is a command into which you wnat to re-direct the
output data. Due to the restictions of PPD files <emphasis remap='B'>&lt;</emphasis>, <emphasis remap='B'>&gt;</emphasis>, and
<emphasis remap='B'>"</emphasis> are not allowed in the <emphasis remap='I'>&lt;command&gt;</emphasis>, replace them as
follows:</para>

<literallayout remap='.nf'>
<emphasis remap='B'>Character Replacement</emphasis>
<option>---------------------</option>
<replaceable>&lt; &amp;lt;</replaceable>
<emphasis remap='B'>&gt; &amp;gt;</emphasis>
<emphasis remap='B'>	&amp;quot;</emphasis>
<emphasis remap='B'>' &amp;apos;</emphasis>
<emphasis remap='B'>&amp; &amp;amp;</emphasis>
</literallayout> <!-- .fi -->

<para>This way you can print directly to your printer, use</para>

<para><emphasis remap='B'>*FoomaticRIPPostPipe: "| cat &amp;gt; /dev/lp0"</emphasis></para>

<para>or</para>

<para><emphasis remap='B'>*FoomaticRIPPostPipe: "| cat &amp;gt; /dev/usb/lp0"</emphasis></para>

<para>for local parallel or USB printers. To make normal users able to print
this way add them to the group <emphasis remap='B'>lp</emphasis> and make sure that the
appropriate printer device file <filename>/dev/...</filename> is group-writable for
the <emphasis remap='B'>lp</emphasis> group.</para>

<para>for a TCP/Socket/JetDirect printer with the host name <emphasis remap='B'>printer</emphasis>
listening on port <literal>9100</literal> you need this:</para>

<para><emphasis remap='B'>*FoomaticRIPPostPipe: "| /usr/bin/nc -w 1 printer 9100"</emphasis></para>

<para>Note the "-w 1" in the "nc" command line, it makes "nc" exiting
immediately after the data is tranferred to the printer.</para>

<para><emphasis remap='B'>*FoomaticRIPPostPipe: "| rlpr -Plp@printserver"</emphasis></para>

<para>directs your jobs to the LPD printer queue <emphasis remap='B'>lp</emphasis> on the machine
named <emphasis remap='B'>printserver</emphasis>.</para>

<para>See also <ulink url='http://www.openprinting.org/direct-doc.html'>http://www.openprinting.org/direct-doc.html</ulink></para>

</refsect2>
</refsect1>

<refsect1 id='printing_with_spooler'><title>PRINTING WITH SPOOLER</title>
<para>See the documentation on the OpenPrinting Web site:
<ulink url='http://www.openprinting.org/'>http://www.openprinting.org/</ulink>
</para>

</refsect1>

<refsect1 id='files'><title>FILES</title>
<!-- .PD 0 -->
<variablelist remap='TP'>
  <varlistentry>
  <term><filename>/etc/cups/ppd/&lt;printer&gt;.ppd</filename></term>
  <term><filename>/etc/lpd/&lt;printer&gt;.ppd</filename></term>
  <term><filename>/etc/ppr/&lt;printer&gt;.ppd</filename></term>
  <term><filename>/etc/pdq/&lt;printer&gt;.ppd</filename></term>
  <term><filename>/etc/direct/&lt;printer&gt;.ppd</filename></term>
  <listitem>

<para>The PPD files of the currently defined printers</para>
<!-- .PD 0 -->

<!-- .SH SEE ALSO -->
<!-- .IR foomatic\-XXX (1), -->

  </listitem>
  </varlistentry>
</variablelist>
</refsect1>

<refsect1 id='exit_status'><title>EXIT STATUS</title>
<para><emphasis remap='B'>foomatic-rip</emphasis>
returns 0 unless something unexpected happens.</para>

</refsect1>

<refsect1 id='author'><title>AUTHOR</title>
<para>Till Kamppeter &lt;<emphasis remap='I'>till.kamppeter@gmail.com</emphasis>&gt; with parts of Manfred
Wassmanns's &lt;<emphasis remap='I'>manolo@NCC-1701.B.Shuttle.de</emphasis>&gt; man pages for the
Foomatic 2.0.x filters.</para>

</refsect1>

<refsect1 id='bugs'><title>BUGS</title>
<para>None so far.</para>

<para>Please send bug reports to the Foomatic mailing list:</para>

<para><ulink url='http://lists.linux-foundation.org/mailman/listinfo/printing-foomatic'>http://lists.linux-foundation.org/mailman/listinfo/printing-foomatic</ulink></para>
</refsect1>
</refentry>

