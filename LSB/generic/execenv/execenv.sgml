<PART ID="tocexecenv">
<TITLE>Execution Environment</TITLE>

<CHAPTER id=execenvfhs>
<TITLE>File System Hierarchy</TITLE>
<PARA>
An LSB conforming system must adhere to the FHS 2.2.
</PARA>
<PARA>
The FHS allows many components or subsystems to be optional. An application
must check for the existence of an optional component before using it, and
should behave in a reasonable manner if the optional components is not
present.
</PARA>
<SECT1 id=dev>
<TITLE><FILENAME>/dev</FILENAME></TITLE>
<PARA>
The following device nodes must exist under <FILENAME>/dev</FILENAME>. Other
devices may also exist in <FILENAME>/dev</FILENAME>.
</PARA>
<VARIABLELIST>
<VARLISTENTRY>
<TERM>
<FILENAME>/dev/null</FILENAME>
</TERM>
<LISTITEM>
<PARA>
All data written to this device is discarded. A read from this device will
return an EOF condition.
</PARA>
</LISTITEM>
</VARLISTENTRY>
<VARLISTENTRY>
<TERM>
<FILENAME>/dev/zero</FILENAME>
</TERM>
<LISTITEM>
<PARA>
This device is a source of zeroed out data. All data written to this device
is discarded. A read from this device will return as many bytes containing
the value zero as was requested.
</PARA>
</LISTITEM>
</VARLISTENTRY>
<VARLISTENTRY>
<TERM>
<FILENAME>/dev/tty</FILENAME>
</TERM>
<LISTITEM>
<PARA>
This device is a synonym for the controlling terminal of a process. Once this
deice is opened, all reads and writes will behave as if the actual controlling
terminal device had been opened.
</PARA>
</LISTITEM>
</VARLISTENTRY>
</VARIABLELIST>
</SECT1>

</CHAPTER>


<CHAPTER id=procfs>
<TITLE>The /proc Subtree </TITLE>
<PARA>
Files found under <FILENAME>/proc</FILENAME> should not be accessed unless
explicitely allowed by this chapter.
</PARA>
<SECT1 ID="cpuinfo">
<TITLE>/proc/cpuinfo</TITLE>
<PARA>
This file is a text file that contains information about one or more
processors. A blank line seperates the information for each processor.
Each processor is described by an unordered set of lines. Each line contains
a key followed by a seperator followed by a value. The key may be any
combination of alphanumeric, underscore, and space characters. The seperator
is a tab followed by a colon followed by a space ('\t: '). The format of the
value is defined below, and in architectures-specific LSB specifications.
</PARA>
<SECT2 ID="cpuinfokeys">
<TITLE>Keys</TITLE>
<PARA>
The following keys can be expected.
</PARA>
<VARIABLELIST>
<VARLISTENTRY>
<TERM>
processor
</TERM>
<LISTITEM>
<PARA>
The value for this key is an integer that represents the processor number.
</PARA>
</LISTITEM>
</VARLISTENTRY>
</VARIABLELIST>
</SECT2>
</SECT1>
</CHAPTER>


<CHAPTER id=execstuff>
<TITLE>Additional Recommendations</TITLE>
<SECT1 id=permissions-must>
<TITLE>Minimal granted Directory and File permissions</TITLE>

<PARA>
In this Chapter "System" means an "LSB-compliant system" and                    
"application" means an "LSB-compliant (third party vendor) application".        
</PARA>

<PARA>
The system must grant to the application read and execute              
permissions needed to use all system interfaces (ABIs)                 
mentioned in the LSB document and included standards.                  
</PARA>

</SECT1>

<SECT1 id=permissions-should>
<TITLE>Recommendations for applications on ownership and permissions</TITLE>

<SECT2 id=permissions-dirwrite>
<TITLE>Directory Write Permissions</TITLE>

<PARA>
The application should not depend on having directory write 
permission outside /tmp, /var/tmp, its home directory and
/var/opt/&lt;package>, (where &lt;package> is the name of the 
application package). 
</PARA>

<PARA>
The application should not depend on owning these directories.
</PARA>

<PARA>
For these directories the application should be able to work 
with directory write permissions restricted by the "sticky bit". 
(Which prevents the application to remove files owned by another 
user. This is classically done with /tmp, to prevent accidental
deletion of "foreign" files.)
</PARA>
 
</SECT2>
 
<SECT2 id=permissions-filewrite>
<TITLE>File Write Permissions</TITLE>

<PARA>
The application should not depend on file write permission on
files not owned by the user it runs under with the exception 
of its personal inbox /var/mail/&lt;username&gt;
</PARA>
</SECT2>
         
<SECT2 id=permissions-fileread>
<TITLE>File Read and execute Permissions</TITLE>
 
<PARA>
The application should not depend on having read permission to
every file and directory.
</PARA>
 
</SECT2>

<SECT2 id=permissions-sbits>
<TITLE>Suid and Sgid Permissions </TITLE>
 
<PARA>
The application should not depend on the suid/sgid permissions of a 
file not packaged with the application. Instead, the distribution is 
responsible for assuming that all system commands have the required 
permissions and work correctly.
</PARA>

<PARA>
Rationale:
Let us make security officers happy. Let's give them the freedom
to take sgid/suid perms away, as long as they do not break 
the system's functionality.
</PARA>
</SECT2>
 
<SECT2 id=priviledged-users>
<TITLE>Privileged users</TITLE>

<PARA>
"Normal" applications should not depend on running as a privileged user.
</PARA>

<PARA>
Special applications that have a reason to run under a privileged user,
should outline these reasons clearly in their documentation, if they
are not obvious as in the case of a backup/restore program.
Users of the application should be informed, that "this application 
demands security privileges, which could interfere with system security".
</PARA>

<PARA>
The application should not contain binary-only software that 
requires being run as root, as this makes security auditing 
harder or even impossible. 
</PARA>

</SECT2>

<SECT2 id=changing-permissions>
<TITLE>Changing permissions</TITLE>

<PARA>
The application should not change permissions of files and 
directories that do not belong to its own package. To do so without
a warning notice in the documentation is regarded as unfriendly act.
</PARA>

</SECT2>

<SECT2 id=permission-media>
<TITLE>Removable Media (Cdrom, Floppy, etc.)</TITLE>
 
<PARA>
The application should be prepared to address removable media being
mounted with options such as "noauto", "nouser", "nosuid" or "nodev". 
Also, the mount options "uid=X", "gid=X" should be awaited with a 
non-zero uid/gid value X.
</PARA>

<PARA>
Rationale: 
System vendors and local system administrators want to run
applications from removable media, but want the possibility
to control what the application can do.
</PARA>

<PARA>
Run-from-removable media applications should not depend on 
logging in as a privileged user. 
</PARA>
</SECT2>
 
<SECT2 id=permission-installers>
<TITLE>Installable applications</TITLE>

<PARA>
If the installation of an application requires 
the execution of programs with superuser privileges, 
such programs should also be supplied in a 
human-readable form. 
</PARA>

<PARA>
Without this, the local system administrator 
would have to blindly trust a piece of software,
particularly its security.
</PARA>
  
</SECT2>
</SECT1>

</CHAPTER>
</PART>
