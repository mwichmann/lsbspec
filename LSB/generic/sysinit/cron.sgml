<SECT1 ID=cronjobs>
<TITLE ID=cronjobs.title>Cron Jobs</TITLE>
<PARA>
In addition to the individual user <filename>crontab</filename> files specified
by <xref linkend=std.susv3> stored under <filename>/var/spool/cron</filename>,
the process that executes scheduled commands shall also process the following
additional <filename>crontab</filename> files:
<SIMPLELIST type=inline>
<MEMBER><FILENAME>/etc/crontab</FILENAME></MEMBER>
<MEMBER><FILENAME>/etc/cron.d/*</FILENAME></MEMBER>
</SIMPLELIST>.
The installation of a package shall not modify
the configuration file <FILENAME>/etc/crontab</FILENAME>.
<!--nor shall it modify the files in <FILENAME>/var/spool/cron/crontabs</FILENAME>.-->
</PARA>
<PARA>
If a package wishes to install a job that has to be executed periodically,
it shall place an executable file in one of the
following directories:
</PARA>
<SIMPLELIST>
<MEMBER><FILENAME>/etc/cron.daily</FILENAME></MEMBER>
<MEMBER><FILENAME>/etc/cron.weekly</FILENAME></MEMBER>
<MEMBER><FILENAME>/etc/cron.monthly</FILENAME></MEMBER>
</SIMPLELIST>
<PARA>
As these directory names suggest, the files within them are executed on a
daily, weekly, or monthly basis, respectively, under the control of an
entry in one of the system <filename>crontab</filename> files, at an
unspecified time of day.
See below for the rules concerning the names of files in these directories.
</PARA>

<NOTE>
<PARA>
It is recommended that files installed in any of these directories be
scripts (e.g. shell scripts, Perl scripts, etc.) so that they may be
modified by the local system administrator. 
</PARA>
<PARA>
The scripts in these directories should check if all necessary
programs are installed before they try to execute them. Otherwise,
problems will arise if a package is removed (but not purged), since
the configuration files are kept on the system in this situation.
</PARA>
</NOTE>
<PARA>
If a certain task has to be executed at a different frequency (e.g. more
frequently than daily), the
package shall install a file
<FILENAME>/etc/cron.d/<replaceable>cron-name</replaceable></FILENAME>.
The file shall have  the same format as that described for the 
<command>crontab</command> command in <xref linkend="std.susv3">, except that 
there shall be an additional field, <parameter>username</parameter>, before
the name of the command to execute. For completeness, the seven fields shall
be:
<orderedlist>
<listitem><para>Minute [0,59]</para></listitem>
<listitem><para>Hour [0,23]</para></listitem>
<listitem><para>Day of the month [1,31]</para></listitem>
<listitem><para>Month of the year [1,12]</para></listitem>
<listitem><para>Day of the week [0,6] (with 0=Sunday)</para></listitem>
<listitem><para>Username</para></listitem>
<listitem><para>command [args ...]</para></listitem>
</orderedlist>

This file shall be processed by the system automatically, with the named
command being run at the specified time, as the specified username.
</PARA>

<PARA>
To avoid namespace conflicts in the <filename>/etc/cron.*</filename> directories, the filenames
used by LSB-compliant packages in 
<SIMPLELIST type=inline>
<MEMBER><FILENAME>/etc/cron.daily</FILENAME></MEMBER>
<MEMBER><FILENAME>/etc/cron.weekly</FILENAME></MEMBER>
<MEMBER><FILENAME>/etc/cron.monthly</FILENAME></MEMBER>
<MEMBER>or <FILENAME>/etc/cron.d</FILENAME></MEMBER>
</SIMPLELIST>
shall come from a managed namespace.
These filenames may be assigned using one of the following methods:
</PARA>

<ITEMIZEDLIST MARK="bullet">
<LISTITEM><PARA>
	Assigned names.  Such names must be chosen from
		the character set <literal>[a-z0-9]</literal>.
		In order to avoid conflicts these 
		names shall be reserved
		through the Linux Assigned Names and Numbers
		Authority (LANANA).
		Information about the LANANA
		may be found at
		<ULINK URL="http://www.lanana.org">www.lanana.org</ULINK>.
	</PARA>

<NOTE>
	<PARA>
		Commonly used names should be reserved in advance; 
		developers for projects should be encouraged reserve names
		from LANANA, so that each distribution can use the same
		name, and to avoid conflicts with other projects.
</PARA></NOTE></LISTITEM>

<LISTITEM><PARA>
	Hierarchical names.  Script names in this category take
		the form: 
		<filename>&lt;hier1&gt;-&lt;hier2&gt;-...-&lt;name&gt;</>,
		where name is taken from the character set 
		<literal>[a-z0-9],</> 
		and where there may be one or more 
		<filename>&lt;hier-n&gt;</> components.  
		<filename>&lt;hier1&gt;</> may either be an LSB provider name assigned
		by the LANANA, or
		it may be owners' DNS name in lower case, with at
		least one <literal>'.'</>.  
	e.g.  "<literal>debian.org</>", "<literal>staroffice.sun.com</>", etc.
		The LSB provider name assigned by LANANA 
		shall only consist of the ASCII characters <literal>[a-z0-9]</>.
</PARA></LISTITEM>

<LISTITEM><PARA>
	Reserved names.  Names that
		begin with the character '<literal>_</>' are reserved for
		distribution use only.  These names should be used
		for essential system packages only.
</PARA></LISTITEM>
</ITEMIZEDLIST>

</SECT1>
