<REFENTRY ID="baselib-sendmail-1"> <REFMETA>
<REFENTRYTITLE>sendmail</REFENTRYTITLE>
<REFMISCINFO>Commands</REFMISCINFO>
</REFMETA>
<REFNAMEDIV>
<REFNAME>sendmail
</REFNAME>
<REFPURPOSE>an electronic mail transport agent
</REFPURPOSE>
</REFNAMEDIV>
<REFSYNOPSISDIV>
<CMDSYNOPSIS>
<command>/usr/sbin/sendmail</COMMAND> 
<ARG>options</ARG> <ARG rep=repeat>address</ARG>
</CMDSYNOPSIS>
</REFSYNOPSISDIV>
<REFSECT1>
<REFSECT1INFO>
<DATE>27 February 2000</DATE>
</REFSECT1INFO>
<TITLE>Description
</TITLE>
<PARA>
To deliver electronic mail (email), applications shall support
the interface provided by <command>sendmail</command> (described here).
This interface shall be the default delivery method for applications.
</PARA>
<PARA>
This program sends an email message to one or more recipients,
routing the message as necessary.  This program is not intended
as a user interface routine.
</PARA>
<PARA>
With no options, <COMMAND>sendmail</COMMAND> reads its standard input up to an
end-of-file or a line consisting only of a single dot and sends a
copy of the message found there to all of the addresses listed.
It determines the network(s) to use based on the syntax and
contents of the addresses.
</PARA>
<PARA>
If an address is preceded by a backslash, <literal>'\'</literal>,
it is unspecified if the
address is subject to local alias expansion.
</PARA>
<PARA>
The format of messages shall be as defined in 
<XREF LINKEND="STD.RFC2822">.
<NOTE>
<para>
The name <command>sendmail</command> was chosen for historical
reasons, but 
the <command>sendmail</command> command specified here
is intended to reflect functionality provided by 
<command>smail</command>, 
<command>exim</command>
and other implementations, not just the <COMMAND>sendmail</COMMAND> 
implementation.
</para>
</NOTE>
</PARA>
</REFSECT1>
<REFSECT1>
<title>Options</title>
<variablelist>
<varlistentry>
<term>-bm</term>
<listitem>
<para>
read mail from standard input and deliver it to the recipient addresses.
This is the default mode of operation.
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>-bp</term>
<listitem>
<para>
If the user has sufficient privilege,
list information about messages currently in the mail queue.
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>-bs</term>
<listitem>
<para>
use the SMTP protocol as described in 
<xref linkend="std.rfc2821">; read SMTP commands on
standard input and write SMTP responses on standard output.
</para>
<para>
In this mode, <command>sendmail</command> shall accept
<literal>\r\n</literal> (CR-LF), as required by
<xref linkend="std.rfc2821">, and <literal>\n</literal>
(LF) line terminators.
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>-F fullname</term>
<listitem>
<para>
explicitly set the full name of the sender for incoming
mail unless the message already contains a 
<literal>From:</literal> message
header.
</para>
<para>
If the user running <COMMAND>sendmail</COMMAND> is not sufficiently trusted,
then the actual sender may be indicated in the message,
depending on the configuration of the agent.
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>-f name</term>
<listitem>
<para>
explicitly set the envelope sender address for incoming
mail.   If there is no 
<literal>From:</literal> header, the address specified
in the 
<literal>From:</literal> header will also be set.
</para>
<para>
If the user running <COMMAND>sendmail</COMMAND> is not sufficiently trusted,
then the actual sender shall be indicated in the message.
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>-i</term>
<listitem>
<para>
ignore dots alone on lines by themselves in incoming
messages.  If this options is not specified,
a line consisting of a single dot shall terminate the input.
If -bs is also used, the behavior is unspecified.
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>-odb</term>
<listitem>
<para>
deliver any mail in background, if supported; otherwise ignored.
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>-odf</term>
<listitem>
<para>
deliver any mail in foreground, if supported; otherwise ignored.
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>-oem or -em</term>
<listitem>
<para>
mail errors back to the sender. (default)
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>-oep or -ep</term>
<listitem>
<para>
write errors to the standard error output.
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>-oeq or -eq</term>
<listitem>
<para>
do not send notification of errors to the sender.  This
only works for mail delivered locally.
</para>
</listitem>
</varlistentry>

<varlistentry>
<term>-oi</term>
<listitem>
<para>
is equivalent to -i.
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>-om</term>
<listitem>
<para>
indicate that the sender of
a message should receive a copy of the message if the
sender appears in an alias expansion.  Ignored if aliases
are not supported.
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>-t</term>
<listitem>
<para>
read the message to obtain recipients from the <literal>To:</literal>, 
<literal>Cc:</literal>,
and <literal>Bcc:</literal> headers in the message instead of from the
command arguments.  If a 
<literal>Bcc:</literal> header is present, it is
removed from the message unless there is no <literal>To:</literal>
or <literal>Cc:</literal>
header, in which case a <literal>Bcc:</literal> header with no data is
created, in accordance with <xref linkend="std.rfc2822">.
</para>
<para>
If there are any operands, the recipients list is unspecified.
</para>
<para>
This option may be ignored when not in <parameter>-bm</parameter> mode
(the default).
</para>
</listitem>
</varlistentry>
</variablelist>
<NOTE>
<PARA>
It is recommended that applications use as few options as
necessary, none if possible.
</PARA>
</NOTE>
</REFSECT1>

<REFSECT1>
<title>Exit status</title>
<variablelist>
<varlistentry>
<term>0</term>
<listitem>
<para>
successful completion on all addresses.  This does not
indicate successful delivery.
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>&gt;0</term>
<listitem>
<para>
there was an error.
</para>
<!-- XXX for LSB 5.0, add sysexits values. Here are the comments
         from the upstream header as a starting point:

 *      EX_USAGE -- The command was used incorrectly, e.g., with
 *              the wrong number of arguments, a bad flag, a bad
 *              syntax in a parameter, or whatever.
 *      EX_DATAERR -- The input data was incorrect in some way.
 *              This should only be used for user's data & not
 *              system files.
 *      EX_NOINPUT -- An input file (not a system file) did not
 *              exist or was not readable.  This could also include
 *              errors like "No message" to a mailer (if it cared
 *              to catch it).
 *      EX_NOUSER -- The user specified did not exist.  This might
 *              be used for mail addresses or remote logins.
 *      EX_NOHOST -- The host specified did not exist.  This is used
 *              in mail addresses or network requests.
 *      EX_UNAVAILABLE -- A service is unavailable.  This can occur
 *              if a support program or file does not exist.  This
 *              can also be used as a catchall message when something
 *              you wanted to do doesn't work, but you don't know
 *              why.
 *      EX_SOFTWARE -- An internal software error has been detected.
 *              This should be limited to non-operating system related
 *              errors as possible.
 *      EX_OSERR -- An operating system error has been detected.
 *              This is intended to be used for such things as "cannot
 *              fork", "cannot create pipe", or the like.  It includes
 *              things like getuid returning a user that does not
 *              exist in the passwd file.
 *      EX_OSFILE -- Some system file (e.g., /etc/passwd, /etc/utmp,
 *              etc.) does not exist, cannot be opened, or has some
 *              sort of error (e.g., syntax error).
 *      EX_CANTCREAT -- A (user specified) output file cannot be
 *              created.
 *      EX_IOERR -- An error occurred while doing I/O on some file.
 *      EX_TEMPFAIL -- temporary failure, indicating something that
 *              is not really an error.  In sendmail, this means
 *              that a mailer (e.g.) could not create a connection,
 *              and the request should be reattempted later.
 *      EX_PROTOCOL -- the remote system returned something that
 *              was "not possible" during a protocol exchange.
 *      EX_NOPERM -- You did not have sufficient permission to
 *              perform the operation.  This is not intended for
 *              file system problems, which should use NOINPUT or
 *              CANTCREAT, but rather for higher level permissions.
 */
#define EX_OK           0       /* successful termination */
-->
</listitem>
</varlistentry>
</variablelist>
</REFSECT1>

</REFENTRY> <!-- end of sendmail manpage -->
