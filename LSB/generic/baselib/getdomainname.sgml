<REFENTRY ID="baselib-getdomainname"> <REFMETA>
<REFENTRYTITLE>getdomainname</REFENTRYTITLE>
<REFMISCINFO>Base Libraries</REFMISCINFO>
</REFMETA>
<REFNAMEDIV>
<REFNAME>getdomainname</REFNAME>
<REFPURPOSE>
get NIS domain name.
</REFPURPOSE>
</REFNAMEDIV>
<REFSYNOPSISDIV>
<FUNCSYNOPSIS>
<FUNCSYNOPSISINFO>
#include &lt;unistd.h&gt;
</FUNCSYNOPSISINFO>
<FUNCPROTOTYPE>
  <FUNCDEF>int 
    <FUNCTION>getdomainname</FUNCTION>
  </FUNCDEF>
  <PARAMDEF>char *
    <PARAMETER>name</PARAMETER>
  </PARAMDEF>
  <PARAMDEF>size_t
    <PARAMETER>namelen</PARAMETER>
  </PARAMDEF>
</FUNCPROTOTYPE>
</FUNCSYNOPSIS>
</REFSYNOPSISDIV>
<refsect1>
<title>Description</title>
<para>
If the Network Information System (NIS) is in use, 
<FUNCTION>getdomainname</FUNCTION> shall
copy the NIS domain name to the supplied buffer identified by 
<PARAMETER>name</PARAMETER>,
with maximum length <PARAMETER>namelen</PARAMETER>. 
If the NIS domain name is not currently set, 
<FUNCTION>getdomainname</FUNCTION> shall
copy the string "(none)" to the <PARAMETER>name</PARAMETER>.
If <PARAMETER>namelen</PARAMETER> is less 
the length of the string
to be copied, <FUNCTION>getdomainname</FUNCTION>
may either truncate the string to <PARAMETER>namelen</PARAMETER>
characters and place it in <PARAMETER>name</PARAMETER>
(without a terminating null character),
or may fail with EINVAL.
</PARA>
<PARA>
Note that the NIS domain name is not the same as the domain portion of
a fully qualified domain name (for example, in DNS).
</para>
</refsect1>

<refsect1>
<title>Return Value</title>
<para>
On success,
<FUNCTION>getdomainname</FUNCTION> shall return 
<RETURNVALUE>0</RETURNVALUE>. Otherwise, it shall return
<RETURNVALUE>-1</RETURNVALUE> and set <VARNAME>errno</VARNAME>
to indicate the error).
</para>
</refsect1>

<refsect1>
<title>Errors</title>
<VARIABLELIST>
<VARLISTENTRY>
<TERM>
EINVAL
</TERM>
<LISTITEM>
<PARA>
<PARAMETER>name</PARAMETER> was a null pointer.
</PARA>
</LISTITEM>
</VARLISTENTRY>
<VARLISTENTRY>
<TERM>
EINVAL
</TERM>
<LISTITEM>
<PARA>
The buffer identified by <PARAMETER>name</PARAMETER> and 
<PARAMETER>namelen</PARAMETER> is of insufficient size to store the NIS domain name string, and the implementation considers this an error.
</PARA>
</LISTITEM>
</VARLISTENTRY>
</VARIABLELIST>
</REFSECT1>

</REFENTRY>
