<REFENTRY ID="baselib-setmntent-3"> <REFMETA>
<REFENTRYTITLE>setmntent</REFENTRYTITLE>
<REFMISCINFO>Base Libraries</REFMISCINFO>
</REFMETA>
<REFNAMEDIV>
<REFNAME>setmntent
</REFNAME>
<REFPURPOSE>
(deprecated)
</REFPURPOSE>
</REFNAMEDIV>

<REFSYNOPSISDIV>
<FUNCSYNOPSIS>
<FUNCSYNOPSISINFO>
#include &lt;stdio.h&gt;
#include &lt;mntent.hgrt;
</FUNCSYNOPSISINFO>
<FUNCPROTOTYPE>
 <FUNCDEF>FILE 
  <FUNCTION>*setmntent</FUNCTION></FUNCDEF>
 <PARAMDEF>const char 
  <PARAMETER><REPLACEABLE>*filename</REPLACEABLE></PARAMETER></PARAMDEF>
 <PARAMDEF>const char 
  <PARAMETER><REPLACEABLE>*type</REPLACEABLE></PARAMETER></PARAMDEF>
</FUNCPROTOTYPE>
</FUNCSYNOPSIS>
</REFSYNOPSISDIV>

<REFSECT1>
<TITLE>Description
</TITLE>
<para>
<FUNCTION>setmntent</FUNCTION> is expected to disappear from a future 
version of the <ACRONYM>LSB</ACRONYM>; applications should avoid its use.
<footnote><para>
<FUNCTION>setmntent</FUNCTION> is believed to be mainly of interest to
system administration packages.  Most other uses can be accomplished
in better ways (for example, compare <structfield>st_dev</structfield>
values to detect crossing a file system or call
<function>statvfs</function> to check available space on the file
system containing a particular directory).  In addition the
specification that the <acronym>LSB</acronym> has had for
<function>setmntent</function> is incomplete; for example it is of
little use without the missing function
<function>getmntent</function>.</para></footnote>
</para>

<PARA>
<FUNCTION>setnmtent</FUNCTION> accesses the file system description file 
<FILENAME>/etc/fstab</FILENAME> and the mounted file system description 
file <FILENAME>/etc/mtab</FILENAME>.
</PARA>
<PARA>
<FUNCTION>setmntent</FUNCTION> opens the file system description file 
<PARAMETER>filep</PARAMETER> and returns a file pointer that can be 
used by <FUNCTION>getmntent</FUNCTION>. <PARAMETER>type</PARAMETER> is 
the type of access required and can take the same values as the mode 
argument of <FUNCTION>fopen</FUNCTION>(3).
</PARA>
<PARA>
The <STRUCTNAME>mntent</STRUCTNAME> structure is defined in 
<FILENAME>mntent.h</FILENAME> as follows:
<SYNOPSIS>
  struct mntent {
             char  *mnt_fsname;  /* name of mounted file system */
             char  *mnt_dir;     /* file system path prefix */
             char  *mnt_type;    /* mount type (see mntent.h) */
             char  *mnt_opts;    /* mount options (see mntent.h) */
             int   mnt_freq;     /* dump frequency in days */
             int   mnt_passno;   /* pass number on parallel fsck */
  };
</SYNOPSIS>
</PARA>
</REFSECT1>

<REFSECT1>
<TITLE>Files
</TITLE>
<PARA>
<FILENAME>/etc/fstab</FILENAME> file system description file
<FILENAME>/etc/mtab</FILENAME> mounted file system description file
</PARA>
</REFSECT1>
<!--	  LDP GENERAL PUBLIC LICENSE  -->
<!--        Version 1a, November 1998   -->
</REFENTRY>
