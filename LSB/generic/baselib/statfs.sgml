<REFENTRY ID="baselib-statfs-2"> <REFMETA>
<REFENTRYTITLE>statfs</REFENTRYTITLE>
<REFMISCINFO>Base Libraries</REFMISCINFO>
</REFMETA>
<REFNAMEDIV>
<REFNAME>statfs
</REFNAME>
<REFPURPOSE>(deprecated)
</REFPURPOSE>
</REFNAMEDIV>
<REFSYNOPSISDIV>
<SYNOPSIS>
#include &lt;sys/vfs.h>

int statfs(const char *path, struct statfs *buf);
</SYNOPSIS>
</REFSYNOPSISDIV>

<REFSECT1>
<TITLE>Description
</TITLE>
<para>
The <function>statfs</function> interface is expected to disappear
from a future version of the LSB; applications should call the
<function>statvfs</function> interface.
</para>
<PARA>
statfs returns information about a mounted file system. path is the path name of any file within the mounted filesystem.
</PARA><PARA>
buf is a pointer to a statfs structure defined as follow:
</PARA>

<VARIABLELIST>
<VARLISTENTRY>
<TERM>
struct statfs {
</TERM>
<LISTITEM>
<PARA>
                 long    f_type;     /* type of filesystem (see below) */
</PARA><PARA>
                 long    f_bsize;    /* optimal transfer block size */
</PARA><PARA>
                 long    f_blocks;   /* total data blocks in file system */
</PARA><PARA>
                 long    f_bfree;    /* free blocks in fs */
</PARA><PARA>
                 long    f_bavail;   /* free blocks avail to non-superuser */
</PARA><PARA>
                 long    f_files;    /* total file nodes in file system */
</PARA><PARA>
                 long    f_ffree;    /* free file nodes in fs */
</PARA><PARA>
                 long    f_ffree;    /* free file nodes in fs */
</PARA><PARA>
                 fsid_t  f_fsid;     /* file system id */
</PARA><PARA>
                 long    f_namelen;  /* maximum length of filenames */
</PARA><PARA>
                 long    f_spare[6]; /* spare for later */
</PARA><PARA>
              };
</PARA>
</LISTITEM>
</VARLISTENTRY>
</VARIABLELIST>
<PARA>
Fields that are undefined for a particular file system are set to 0.
</PARA>
</REFSECT1>
<REFSECT1>
<TITLE>Return Value
</TITLE>
<PARA>
On success, zero is returned. On error, -1 is returned, and errno is set appropriately.
</PARA>
</REFSECT1>
<REFSECT1>
<TITLE>Errors
</TITLE>
<VARIABLELIST>

<VARLISTENTRY>
<TERM>
ENOTDIR
</TERM>
<LISTITEM>
<PARA>
A component of the path prefix of path is not a directory.
</PARA>
</LISTITEM>
</VARLISTENTRY>

<VARLISTENTRY>
<TERM>
ENAMETOOLONG
</TERM>
<LISTITEM>
<PARA>
path is too long.
</PARA>
</LISTITEM>
</VARLISTENTRY>

<VARLISTENTRY>
<TERM>
ENOENT 
</TERM>
<LISTITEM>
<PARA>
The file referred to by path does not exist.
</PARA>
</LISTITEM>
</VARLISTENTRY>

<VARLISTENTRY>
<TERM>
EACCES 
</TERM>
<LISTITEM>
<PARA>
Search permission is denied for a component of the path prefix of path.
</PARA>
</LISTITEM>
</VARLISTENTRY>

<VARLISTENTRY>
<TERM>
ELOOP
</TERM>
<LISTITEM>
<PARA>
Too many symbolic links were encountered in translating path.
</PARA>
</LISTITEM>
</VARLISTENTRY>

<VARLISTENTRY>
<TERM>
EFAULT 
</TERM>
<LISTITEM>
<PARA>
Buf or path points to an invalid address.
</PARA>
</LISTITEM>
</VARLISTENTRY>

<VARLISTENTRY>
<TERM>
EIO    
</TERM>
<LISTITEM>
<PARA>
An I/O error occurred while reading from or writing to the file system.
</PARA>
</LISTITEM>
</VARLISTENTRY>

<VARLISTENTRY>
<TERM>
ENOMEM 
</TERM>
<LISTITEM>
<PARA>
Insufficient kernel memory was available.
</PARA>
</LISTITEM>
</VARLISTENTRY>

<VARLISTENTRY>
<TERM>
ENOSYS 
</TERM>
<LISTITEM>
<PARA>
The filesystem path is on does not support statfs.
</PARA>
</LISTITEM>
</VARLISTENTRY>
</VARIABLELIST>
</REFSECT1>
<!--	  LDP GENERAL PUBLIC LICENSE  -->
<!--        Version 1a, November 1998   -->
</REFENTRY>
