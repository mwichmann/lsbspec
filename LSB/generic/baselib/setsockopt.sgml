<refentry id="baselib-setsockopt-2">

<refmeta>
<refentrytitle>setsockopt</refentrytitle>
<refmiscinfo>Base Libraries</refmiscinfo>
</refmeta>

<refnamediv>
<refname>setsockopt</refname>
<refpurpose>set socket options</refpurpose>
<indexterm id="ix-baselib-setsockopt-2">
  <primary>setsockopt</primary></indexterm>
</refnamediv>

<refsynopsisdiv>
<funcsynopsis>
<funcsynopsisinfo>
#include &lt;sys/socket.h&gt;
#include &lt;netinet/ip.h&gt;
</funcsynopsisinfo><funcprototype>
<funcdef>int
<function>setsockopt</function>
</funcdef>
<paramdef>int
<parameter>socket</parameter>
</paramdef>
<paramdef>int
<parameter>level</parameter>
</paramdef>
<paramdef>int
<parameter>option_name</parameter>
</paramdef>
<paramdef>const void *
<parameter>option_value</parameter>
</paramdef>
<paramdef>socklen_t
<parameter>option_len</parameter>
</paramdef>

</funcprototype>
</funcsynopsis>
</refsynopsisdiv>
<refsect1>
<title>Description</title>

<para>
The <function>setsockopt</function> function shall behave as specified in 
<CITETITLE><XREF LINKEND="STD.SUSV3"></CITETITLE>, 
with the following extensions.
</para>

<refsect2>
<title>IP Protocol Level Options</title>
<para>
If the <parameter>level</parameter> parameter is 
<constant>IPPROTO_IP</constant>, the following values shall be supported for
<parameter>option_name</parameter> (see <xref linkend="std.rfc791"> for
further details):
<variablelist>
<varlistentry>
<term><constant>IP_OPTIONS</constant></term>
<listitem><para>
Set the Internet Protocol options sent with
every packet from this socket. 
The <parameter>option_value</parameter> shall point to a
memory buffer containing the options and
<parameter>option_len</parameter> shall contain the size in bytes
of that buffer.
For IPv4, the maximum length of options is 40 bytes.
</para></listitem>
</varlistentry>
<varlistentry>
<term><constant>IP_TOS</constant></term>
<listitem><para>
Set the Type of Service flags
to use when sending packets with this socket.
The <parameter>option_value</parameter> shall point to a value
containing the type of service value. The least significant two bits
of the value shall contain the new Type of Service indicator. Use of other
bits in the value is unspecified.
The <parameter>option_len</parameter> parameter shall hold the size, in bytes,
of the buffer referred to by <parameter>option_value</parameter>.
</para></listitem>
</varlistentry>
<varlistentry>
<term><constant>IP_TTL</constant></term>
<listitem><para>
Set the current unicast Internet Protocol
Time To Live value used when sending packets with this socket.
The <parameter>option_value</parameter> shall point to a value
containing the time to live value, which shall be between
1 and 255.
The <parameter>option_len</parameter> parameter shall hold the size, in bytes,
of the buffer referred to by <parameter>option_value</parameter>.
</para></listitem>
</varlistentry>

</variablelist>
</para>
</refsect2>

</refsect1>
</refentry>
