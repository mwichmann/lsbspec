<REFENTRY ID="baselib-getgrouplist-3"> <REFMETA>
<REFENTRYTITLE>getgrouplist</REFENTRYTITLE>
<REFMISCINFO>Base Libraries</REFMISCINFO>
</REFMETA>
<REFNAMEDIV>
<REFNAME>getgrouplist
</REFNAME>
<REFPURPOSE>
get groups a user belongs to
</REFPURPOSE>
</REFNAMEDIV>

<refsynopsisdiv>
<funcsynopsis>
<funcsynopsisinfo>
#include &lt;grp.h&gt;
</funcsynopsisinfo><funcprototype>
<funcdef>int
<function>getgrouplist</function>
</funcdef>
<paramdef>const char *
<parameter>user</parameter>
</paramdef>
<paramdef>gid_t
<parameter>group</parameter>
</paramdef>
<paramdef>gid_t *
<parameter>groups</parameter>
</paramdef>
<paramdef>int *
<parameter>ngroups</parameter>
</paramdef>

</funcprototype>
</funcsynopsis>
</refsynopsisdiv>

<REFSECT1>
<REFSECT1INFO>
<DATE>21 May 2007</DATE>
</REFSECT1INFO>
<TITLE>Description
</TITLE>
<PARA>
The <function>getgrouplist</function> function shall
fill in the array <parameter>groups</parameter> with 
the supplementary groups for the user specified
by <parameter>user</parameter>. On entry, 
<parameter>ngroups</parameter> shall refer to an integer
containing the maximum number of <type>gid_t</type>
members in the <parameter>groups</parameter> array.
The group <parameter>group</parameter> shall also be included.
</PARA>
</REFSECT1>
<REFSECT1><TITLE>Return Value</TITLE>
<PARA>
If on entry the value referenced by <parameter>ngroups</parameter>
was greater than or equal to the number of supplementary
group identifiers to be copied to the array identified by
<parameter>groups</parameter>, 
<function>getgrouplist</function> shall return the number of 
group identifiers actually copied, and shall set the value
referenced by <parameter>ngroups</parameter> to this value.
</PARA>
<PARA>
If on entry the value referenced by <parameter>ngroups</parameter>
was less than to the number of supplementary
group identifiers, <function>getgrouplist</function> shall return
<constant>-1</constant>. The initial <parameter>*ngroups</parameter>
entries in
<parameter>groups</parameter> may be overwritten.
</PARA>
<PARA>
If <parameter>user</parameter> does not refer to a valid
user on the system, <function>getgrouplist</function> shall
return <constant>1</constant>, and set the value referenced by
<parameter>ngroups</parameter> to <constant>1</constant>,
reflecting the group supplied as <parameter>group</parameter>.
</PARA>
</REFSECT1>
<REFSECT1>
<TITLE>Errors</TITLE>
<PARA>
None defined.
</PARA>
</REFSECT1>
<REFSECT1>
<TITLE>See Also</TITLE>
<PARA>
<FUNCTION>getgroups</FUNCTION>
</PARA>
</REFSECT1>
</REFENTRY>
