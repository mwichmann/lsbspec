<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.72 [en] (X11; U; Linux 2.2.14-5.0 i686) [Netscape]">
   <title>Building the LSB</title>
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EF" vlink="#51188E" alink="#FF0000">

<h1>
Building the LSB</h1>
First, check out the site using CVS:
<pre>&nbsp; cvs -d:pserver:anonymous@cvs.lsb.sourceforge.net:/cvsroot/lsb login
&nbsp; cvs -z3 -d:pserver:anonymous@cvs.lsb.sourceforge.net:/cvsroot/lsb co spec</pre>
Make sure you have a set of DocBook tools. If you have Red Hat Linux 6.2,
installing the following packages included in the 6.2 distribution should
suffice: docbook, psgml, jade, sgml-common, sgml-tools, jadetex, and stylesheets;
otherwise, try running <b><i>installsgml.sh</i></b> found in the LSB's
spec directory. For older versions of Red Hat, see http://sourceware.cygnus.com/docbook-tools/.
For other distributions, (FIXME: anyone want to contribute a recipe?).
<p>Note that the makefiles may try to use mySQL or the perl DBI code to
get stuff out of a database. The goal is to separate that out, so that
you can rebuild the spec from the generated files (for example intro/libraries.sgml)
and not need to fuss with the database. Until that is done, you might need
to look at <a href="http://cvs.sourceforge.net/cgi-bin/cvsweb.cgi/website/spec/README.SQL?cvsroot=lsb">spec/README.SQL</a>.&nbsp;<!-- cannot just "touch intro/libraries.sgml" in the general case, see
for example mklibspec which does both database and non-database stuff
-->
<p>To produce postscript, type "make spec.sgml" followed by "db2ps spec.sgml"
which will put the output in spec.ps. To produce HTML, "make htmlspec"
which will put the output in spec/book1.html (relative to this directory,
so spec/spec/book1.html relative to the top level).
<p>FIXME: When I try this I get errors like
<pre>cannot generate system identifier for public text "-//Davenport//DTD DocBook V3.0//EN"</pre>
and "/usr/lib/sgml-tools/dist/book/html/mapping': No such file or directory".
Try on lsb.sourceforge.net, I guess, and see if it is better.
<p>Now, where to get started? baselib/select.sgml is a simple example of
the documentation for one function, which may be instructive. If you don't
know DocBook, you'll probably need to refer to the DocBook documentation
online at http://www.oasis-open.org/docbook/. Other than that, just walk
through the makefiles until you figure things out I guess. Feel free to
ask on the LSB mailing lists if you are having trouble finding things.
<p>The "spec" subdirectory is both in CVS and generated by the makefiles,
and the makefiles do some moving it around in a way that doesn't completely
work. One workaround is to manually delete "D/spec////" from CVS/Entries
(until we can come up with a cleaner way to handle the whole thing).
<p>Now, what to do with any enhancements you make? Well, the way to get
started is to check the tree out anonymously (as noted above), and send
your diffs to the mailing list. But if you have already done that for a
while and someone thinks you should have an account see the instructions
on our <a href="sourceforge.html">sourceforge page</a>.
</body>
</html>
