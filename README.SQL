How to hack on the LSB spec
---------------------------

We'll start with the apologies.  This is all going to seem like a
complicated way to maintain a specification document.  However, all
this database stuff does make it easier to do things like "show me
which interfaces are in POSIX.2 but not the Linux Standard Base" or
"show me the interfaces which are in the Linux Standard Base but not
the Single Unix Specification".

1.  Get a copy of mysql.  I used mysql from Red Hat Powertools 6.1,
but any copy of mysql should do (http://www.tcx.se/ being the master
site).  I'm using 3.20.32a which is the latest GPL'd version as I
write this.

2.  As root, give your regular (non-root) user access to the database.
Put your username in place of YOURSELF

# mysql mysql
insert into user values ('%','YOURSELF','','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y') ;
insert into user values ('localhost','YOURSELF','','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y') ;
quit
# mysqladmin reload

(see the mySQL FAQ for how to do things if you aren't root)

3.  Create a database called "Linux":

$ mysqladmin create Linux

4.  Load data into database:

$ cd data
$ make reload-kludge    # For MySQL 3.20.*
$ make reload-db        # For MySQL 3.22.* and later

If you get:

  ERROR: Invalid default value for 'Cname'

then you probably used "make reload-db" with MySQL 3.20.*.

5.  The makefile for "make reload-kludge" and "make reload-db" assumes
you are editing Linux.sql as the master data source and using mysql as
a slave to that.  So if you are making modifications in the database
you don't want those rules.

6.  Get a copy of the DocBook tools from
http://sourceware.cygnus.com/docbook-tools/
I installed all of their packages: docbook, psgml, jade, sgml-common,
jadetex, and stylesheets (of course check the documentation at the web
site for up to date details).

7.  To produce postscript, type "make spec.sgml" followed by "db2ps
spec.sgml" which will put the output in spec.ps.  To produce HTML,
"make htmlspec" which will put the output in spec/book1.html (relative
to this directory, so spec/spec/book1.html relative to the top level).

8.  Now, where to get started?  baselib/select.sgml is a simple
example of the documentation for one function, which may be
instructive.  If you don't know DocBook, you'll probably need to refer
to the DocBook documentation online at
http://www.oasis-open.org/docbook/.  Other than that, just walk
through the makefiles until you figure things out I guess.  Feel free
to ask on the LSB mailing lists if you are having trouble finding
things.

9.  The "spec" subdirectory is both in CVS and generated by the
makefiles, and the makefiles do some moving it around in a way that
doesn't completely work.  One workaround is to manually delete
"D/spec////" from CVS/Entries (until we can come up with a cleaner way
to handle the whole thing).
