<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>Low-level system information</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="S/390 ELF Application Binary Interface Supplement"
HREF="book1.html"><LINK
REL="PREVIOUS"
TITLE="Preface"
HREF="f19.html"><LINK
REL="NEXT"
TITLE="Function calling sequence"
HREF="x414.html"></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>S/390 ELF Application Binary Interface Supplement</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="f19.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x414.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="AEN22"
></A
>Low-level system information</H1
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN24"
></A
>Machine interface</H1
><P
>This section describes the processor-specific information for the S/390

processors.</P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN27"
></A
>Processor architecture</H2
><P
>[<SPAN
CLASS="CITATION"
><I
CLASS="CITETITLE"
>ESA/390 Principles of Operation</I
></SPAN
>] (SA22&#8211;7201)

defines the ESA/390 architecture.</P
><P
>Programs intended to execute directly on the processor use the ESA/390

instruction set, and the instruction encoding and semantics of the architecture.&#13;</P
><P
>An application program can assume that all instructions defined by the

architecture that are neither privileged nor optional exist and work as documented.&#13;</P
><P
>To be ABI-conforming the processor must implement the instructions of

the architecture, perform the specified operations, and produce the expected

results. The ABI neither places performance constraints on systems nor specifies

what instructions must be implemented in hardware. A software emulation of

the architecture could conform to the ABI.</P
><P
>There are some instructions in the ESA/390 architecture which are described

as 'optional'. Linux for S/390 requires some of these to be available; in

particular:</P
><P
></P
><UL
><LI
><P
>additional floating point facilities,</P
></LI
><LI
><P
>compare and move extended,</P
></LI
><LI
><P
>immediate and relative instructions,</P
></LI
><LI
><P
>string instructions.</P
></LI
></UL
><P
>The ABI guarantees that these instructions are present. In order to

comply with the ABI the operating system must emulate these instructions on

machines which do not support them in the hardware. Other instructions are

not available in some current models; programs using these instructions do

not conform to the S/390 ABI and executing them on machines without the extra

capabilities will result in undefined behavior.</P
><P
>In the ESA/390 architecture a processor runs in big-endian mode. (See <A
HREF="c22.html#BYTEORDERING"
>the Section called <I
>Byte ordering</I
></A
>.)</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN48"
></A
>Data representation</H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="BYTEORDERING"
></A
>Byte ordering</H3
><P
>The architecture defines an 8-bit byte, a 16-bit halfword, a 32-bit

word and a 64-bit doubleword. Byte ordering defines how the bytes that make

up halfwords, words and doublewords are ordered in memory. Most significant

byte (MSB) ordering, or "Big-Endian" as it is sometimes called, means that

the most significant byte of a structure is located in the lowest addressed

byte position in a storage unit (byte 0).</P
><P
><A
HREF="c22.html#HALFWORD"
>Figure 1</A
> to <A
HREF="c22.html#DOUBLEWORDS"
>Figure 3</A
> illustrate

the conventions for bit and byte numbering within storage units of various

widths. These conventions apply to both integer data and floating-point data,

where the most significant byte of a floating-point value holds the sign and

the exponent (or at least the start of the exponent). The figures show big-endian

byte numbers in the upper left corners and bit numbers in the lower corners.&#13;</P
><DIV
CLASS="FIGURE"
><A
NAME="HALFWORD"
></A
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="pics/halfwrd.png"></P
></DIV
><P
><B
>Figure 1. Bit and byte numbering in halfwords</B
></P
></DIV
><DIV
CLASS="FIGURE"
><A
NAME="WORDS"
></A
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="pics/word.png"></P
></DIV
><P
><B
>Figure 2. Bit and byte numbering in words</B
></P
></DIV
><DIV
CLASS="FIGURE"
><A
NAME="DOUBLEWORDS"
></A
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="pics/dblword.png"></P
></DIV
><P
><B
>Figure 3. Bit and byte numbering in doublewords</B
></P
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN71"
></A
>Fundamental types</H3
><P
><A
HREF="c22.html#SCALAR"
>Table 1</A
> shows how ANSI C scalar types correspond to

those of the S/390 processor. For all types a NULL pointer has the value zero

(binary).</P
><DIV
CLASS="TABLE"
><A
NAME="SCALAR"
></A
><P
><B
>Table 1. Scalar types</B
></P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
WIDTH="18%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>Type</P
></TH
><TH
WIDTH="26%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>ANSI C</P
></TH
><TH
WIDTH="16%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>sizeof (bytes)</P
></TH
><TH
WIDTH="17%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>&#13;Alignment</P
></TH
><TH
WIDTH="23%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>type (S/390)&#13;</P
></TH
></TR
></THEAD
><TBODY
><TR
><TD
WIDTH="18%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>Character</P
></TD
><TD
WIDTH="26%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN105"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>signed&nbsp;char<br>
<br>
char<br>
<br>
unsigned&nbsp;char</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="16%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>1</P
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>1</P
></TD
><TD
WIDTH="23%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>byte</P
></TD
></TR
><TR
><TD
WIDTH="18%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>Short</P
></TD
><TD
WIDTH="26%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN118"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>signed&nbsp;short<br>
<br>
short<br>
<br>
unsigned&nbsp;short</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="16%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>2</P
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>2</P
></TD
><TD
WIDTH="23%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>halfword</P
></TD
></TR
><TR
><TD
WIDTH="18%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>Integer</P
></TD
><TD
WIDTH="26%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN131"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>signed&nbsp;int<br>
<br>
int<br>
<br>
unsigned&nbsp;int<br>
<br>
enum<br>
<br>
signed&nbsp;long<br>
<br>
long<br>
<br>
unsigned&nbsp;long</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="16%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>4</P
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>4</P
></TD
><TD
WIDTH="23%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>word</P
></TD
></TR
><TR
><TD
WIDTH="18%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>Long long</P
></TD
><TD
WIDTH="26%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN144"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>signed&nbsp;long&nbsp;long<br>
<br>
long&nbsp;long<br>
<br>
unsigned&nbsp;long&nbsp;long</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="16%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>8</P
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>8</P
></TD
><TD
WIDTH="23%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>doubleword</P
></TD
></TR
><TR
><TD
WIDTH="18%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>Pointer</P
></TD
><TD
WIDTH="26%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN157"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>any-type&nbsp;*<br>
<br>
any-type&nbsp;(*)&nbsp;()</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="16%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>4</P
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>4</P
></TD
><TD
WIDTH="23%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>unsigned word</P
></TD
></TR
><TR
><TD
ROWSPAN="3"
WIDTH="18%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>Floating point</P
></TD
><TD
WIDTH="26%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN170"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>float</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="16%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>4</P
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>4</P
></TD
><TD
WIDTH="23%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>single precision (IEEE)</P
></TD
></TR
><TR
><TD
WIDTH="26%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN181"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>double</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="16%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>8</P
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>8</P
></TD
><TD
WIDTH="23%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>double precision (IEEE)</P
></TD
></TR
><TR
><TD
WIDTH="26%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN192"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>long<br>
<br>
double¹</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="16%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>16</P
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>16</P
></TD
><TD
WIDTH="23%"
ALIGN="LEFT"
VALIGN="MIDDLE"
><P
>extended precision (IEEE)</P
></TD
></TR
></TBODY
><TFOOT
><TR
><TH
COLSPAN="5"
ALIGN="LEFT"
VALIGN="TOP"
><P
>¹Compilers and

systems may implement the long double data type in some other way, for performance

reasons, using a compiler option. Examples of such formats could be two successive

doubles or even a single double. Such usage does not conform to this ABI however,

and runs the risk of passing a wrongly formatted floating-point number to

another function as an argument. Programs using other formats should transform

long double floating-point numbers to a conforming format before passing them.&#13;</P
></TH
></TR
></TFOOT
></TABLE
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN200"
></A
>Aggregates and unions</H3
><P
>Aggregates (structures and arrays) and unions assume the alignment of

their most strictly aligned component, that is, the component with the largest

alignment. The size of any object, including aggregates and unions, is always

a multiple of the alignment of the object. An array uses the same alignment

as its elements. Structure and union objects may require padding to meet size

and alignment constraints:</P
><P
></P
><UL
><LI
><P
>An entire structure or union object is aligned on the same

boundary as its most strictly aligned member.</P
></LI
><LI
><P
>Each member is assigned to the lowest available offset with

the appropriate alignment. This may require internal padding, depending on

the previous member.</P
></LI
><LI
><P
>If necessary, a structure's size is increased to make it a

multiple of the structure's alignment. This may require tail padding if the

last member does not end on the appropriate boundary.</P
></LI
></UL
><P
>In the following examples (<A
HREF="c22.html#STRUCT1"
>Figure 4</A
> to <A
HREF="c22.html#STRUCT5"
>Figure 8</A
>),

member byte offsets (for the big-endian implementation) appear in the upper

left corners.</P
><DIV
CLASS="FIGURE"
><A
NAME="STRUCT1"
></A
><A
NAME="AEN215"
></A
><BLOCKQUOTE
CLASS="BLOCKQUOTE"
><DIV
CLASS="TABLE"
><A
NAME="AEN216"
></A
><P
><B
>Table 2. </B
></P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="43%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN225"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>struct&nbsp;{<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;c;<br>
<br>
};</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="57%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="pics/strctsmall.png"></P
></DIV
></P
></TD
></TR
></TBODY
></TABLE
></DIV
></BLOCKQUOTE
><P
><B
>Figure 4. Structure smaller than a word</B
></P
></DIV
><DIV
CLASS="FIGURE"
><A
NAME="STRUCT2"
></A
><A
NAME="AEN234"
></A
><BLOCKQUOTE
CLASS="BLOCKQUOTE"
><DIV
CLASS="TABLE"
><A
NAME="AEN235"
></A
><P
><B
>Table 3. </B
></P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="32%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN244"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>struct&nbsp;{<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;c;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;d;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;short&nbsp;s;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;long&nbsp;n;<br>
<br>
};</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="68%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="pics/strct8nop.png"></P
></DIV
></P
></TD
></TR
></TBODY
></TABLE
></DIV
></BLOCKQUOTE
><P
><B
>Figure 5. No padding</B
></P
></DIV
><DIV
CLASS="FIGURE"
><A
NAME="STRUCT3"
></A
><A
NAME="AEN253"
></A
><BLOCKQUOTE
CLASS="BLOCKQUOTE"
><DIV
CLASS="TABLE"
><A
NAME="AEN254"
></A
><P
><B
>Table 4. </B
></P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="32%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN263"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>struct&nbsp;{<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;c;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;short&nbsp;s;<br>
<br>
};</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="68%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="pics/strct4pad.png"></P
></DIV
></P
></TD
></TR
></TBODY
></TABLE
></DIV
></BLOCKQUOTE
><P
><B
>Figure 6. Internal padding</B
></P
></DIV
><DIV
CLASS="FIGURE"
><A
NAME="STRUCT4"
></A
><A
NAME="AEN272"
></A
><BLOCKQUOTE
CLASS="BLOCKQUOTE"
><DIV
CLASS="TABLE"
><A
NAME="AEN273"
></A
><P
><B
>Table 5. </B
></P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="34%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN282"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>struct&nbsp;{<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;c;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;d;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;short&nbsp;s;<br>
<br>
};</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="66%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="pics/strct24pad.png"></P
></DIV
></P
></TD
></TR
></TBODY
></TABLE
></DIV
></BLOCKQUOTE
><P
><B
>Figure 7. Internal and tail padding</B
></P
></DIV
><DIV
CLASS="FIGURE"
><A
NAME="STRUCT5"
></A
><A
NAME="AEN291"
></A
><BLOCKQUOTE
CLASS="BLOCKQUOTE"
><DIV
CLASS="TABLE"
><A
NAME="AEN292"
></A
><P
><B
>Table 6. </B
></P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="34%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN301"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>union&nbsp;&nbsp;{<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;c;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;short&nbsp;s;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;&nbsp;&nbsp;j;<br>
<br>
};</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="66%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="pics/strctunion.png"></P
></DIV
></P
></TD
></TR
></TBODY
></TABLE
></DIV
></BLOCKQUOTE
><P
><B
>Figure 8. Union padding</B
></P
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN308"
></A
>Bit-fields</H3
><P
>C struct and union definitions may have "bit-fields," defining integral

objects with a specified number of bits (see <A
HREF="c22.html#BITFIELDTABLE"
>Table 7</A
>).&#13;</P
><DIV
CLASS="TABLE"
><A
NAME="BITFIELDTABLE"
></A
><P
><B
>Table 7. Bit fields</B
></P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
WIDTH="32%"
ALIGN="LEFT"
VALIGN="TOP"
><P
>Bit-field type</P
></TH
><TH
WIDTH="30%"
ALIGN="LEFT"
VALIGN="TOP"
><P
>Width n</P
></TH
><TH
WIDTH="38%"
ALIGN="LEFT"
VALIGN="TOP"
><P
>Range</P
></TH
></TR
></THEAD
><TBODY
><TR
><TD
WIDTH="32%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN330"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>signed&nbsp;char<br>
<br>
<br>
<br>
char<br>
<br>
<br>
<br>
unsigned&nbsp;char</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="30%"
ALIGN="CENTER"
VALIGN="MIDDLE"
><P
>1 to 8</P
></TD
><TD
WIDTH="38%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN336"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>-2&#65533;&#65533;&#65533;¹&nbsp;to<br>
<br>
2&#65533;&#65533;¹&nbsp;-&nbsp;1<br>
<br>
<br>
<br>
0&nbsp;to&nbsp;2&#65533;&nbsp;-&nbsp;1<br>
<br>
<br>
<br>
0&nbsp;to&nbsp;2&#65533;&nbsp;-&nbsp;1</P
><P
></P
></DIV
></P
></TD
></TR
><TR
><TD
WIDTH="32%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN341"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>signed&nbsp;short<br>
<br>
<br>
<br>
short<br>
<br>
<br>
<br>
unsigned&nbsp;short</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="30%"
ALIGN="CENTER"
VALIGN="MIDDLE"
><P
>1 to 16</P
></TD
><TD
WIDTH="38%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN347"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>-2&#65533;&#65533;¹&nbsp;to<br>
<br>
2&#65533;&#65533;¹&nbsp;-&nbsp;1<br>
<br>
<br>
<br>
0&nbsp;to&nbsp;2&#65533;&nbsp;-&nbsp;1<br>
<br>
<br>
<br>
0&nbsp;to&nbsp;2&#65533;&nbsp;-&nbsp;1</P
><P
></P
></DIV
></P
></TD
></TR
><TR
><TD
WIDTH="32%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN352"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>signed&nbsp;int<br>
<br>
<br>
<br>
int<br>
<br>
<br>
<br>
unsigned&nbsp;int<br>
<br>
<br>
<br>
enum<br>
<br>
<br>
<br>
signed&nbsp;long<br>
<br>
<br>
<br>
long<br>
<br>
<br>
<br>
unsigned&nbsp;long</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="30%"
ALIGN="CENTER"
VALIGN="MIDDLE"
><P
>1 to 32</P
></TD
><TD
WIDTH="38%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN358"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>-2&#65533;&#65533;¹&nbsp;to<br>
<br>
2&#65533;&#65533;¹&nbsp;-&nbsp;1<br>
<br>
<br>
<br>
0&nbsp;to&nbsp;2&#65533;&nbsp;-&nbsp;1<br>
<br>
<br>
<br>
0&nbsp;to&nbsp;2&#65533;&nbsp;-&nbsp;1<br>
<br>
<br>
<br>
0&nbsp;to&nbsp;2&#65533;&nbsp;-&nbsp;1<br>
<br>
<br>
<br>
-2&#65533;&#65533;¹&nbsp;to&nbsp;2&#65533;&#65533;¹&nbsp;-&nbsp;1<br>
<br>
<br>
<br>
0&nbsp;to&nbsp;2&#65533;&nbsp;-&nbsp;1<br>
<br>
<br>
<br>
0&nbsp;to&nbsp;2&#65533;&nbsp;-&nbsp;1</P
><P
></P
></DIV
></P
></TD
></TR
><TR
><TD
WIDTH="32%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN363"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>signed&nbsp;long&nbsp;long<br>
<br>
<br>
<br>
long&nbsp;long<br>
<br>
<br>
<br>
unsigned&nbsp;long&nbsp;long</P
><P
></P
></DIV
></P
></TD
><TD
WIDTH="30%"
ALIGN="CENTER"
VALIGN="MIDDLE"
><P
>1 to 64</P
></TD
><TD
WIDTH="38%"
ALIGN="LEFT"
VALIGN="TOP"
><P
><DIV
CLASS="INFORMALEXAMPLE"
><A
NAME="AEN369"
></A
><P
></P
><P
CLASS="LITERALLAYOUT"
>-2&#65533;&#65533;¹&nbsp;to<br>
<br>
2&#65533;&#65533;¹&nbsp;-&nbsp;1<br>
<br>
<br>
<br>
0&nbsp;to&nbsp;2&#65533;&nbsp;-&nbsp;1<br>
<br>
<br>
<br>
0&nbsp;to&nbsp;2&#65533;&nbsp;-<br>
<br>
1</P
><P
></P
></DIV
></P
></TD
></TR
></TBODY
></TABLE
></DIV
><P
>"Plain" bit-fields (that is, those neither signed nor unsigned) always

have non-negative values. Although they may have type short, int or long (which

can have negative values), bit-fields of these types have the same range as

bit-fields of the same size with the corresponding unsigned type. Bit-fields

obey the same size and alignment rules as other structure and union members,

with the following additions:</P
><P
></P
><UL
><LI
><P
>Bit-fields are allocated from left to right (most to least

significant).</P
></LI
><LI
><P
>A bit-field must entirely reside in a storage unit appropriate

for its declared type. Thus, a bit-field never crosses its unit boundary.&#13;</P
></LI
><LI
><P
>Bit-fields must share a storage unit with other structure

and union members (either bit-field or non-bit-field) if and only if there

is sufficient space within the storage unit.</P
></LI
><LI
><P
>Unnamed bit-fields' types do not affect the alignment of a

structure or union, although an individual bit-field's member offsets obey

the alignment constraints. An unnamed, zero-width bit-field shall prevent

any further member, bit-field or other, from residing in the storage unit

corresponding to the type of the zero-width bit-field.</P
></LI
></UL
><P
>The following examples (<A
HREF="c22.html#FIGBITNUM"
>Figure 9</A
> through <A
HREF="c22.html#FIGUNNBITF"
>Figure 14</A
>)

show structure and union member byte offsets in the upper left corners. Bit

numbers appear in the lower corners.</P
><DIV
CLASS="FIGURE"
><A
NAME="FIGBITNUM"
></A
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="pics/bitnum.png"></P
></DIV
><P
><B
>Figure 9. Bit numbering</B
></P
></DIV
><DIV
CLASS="FIGURE"
><A
NAME="FIGLRALLOC"
></A
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="pics/lralloc.png"></P
></DIV
><P
><B
>Figure 10. Left-to-right allocation</B
></P
></DIV
><DIV
CLASS="FIGURE"
><A
NAME="FIGBALIGN"
></A
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="pics/balign.png"></P
></DIV
><P
><B
>Figure 11. Boundary alignment</B
></P
></DIV
><DIV
CLASS="FIGURE"
><A
NAME="FIGSUSHAR"
></A
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="pics/sushar.png"></P
></DIV
><P
><B
>Figure 12. Storage unit sharing</B
></P
></DIV
><DIV
CLASS="FIGURE"
><A
NAME="FIGUNALLOC"
></A
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="pics/unalloc.png"></P
></DIV
><P
><B
>Figure 13. Union allocation</B
></P
></DIV
><DIV
CLASS="FIGURE"
><A
NAME="FIGUNNBITF"
></A
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="pics/unnbitf.png"></P
></DIV
><P
><B
>Figure 14. Unnamed bit fields</B
></P
></DIV
></DIV
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="f19.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x414.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Preface</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Function calling sequence</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>